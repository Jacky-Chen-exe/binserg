. binstest y x w, nbins(20) testshaper(-2 0) testshapel(4) testmodelpoly(1) ///
>                    nsims(1000) simsgrid(30)

Linear regression                               Number of obs     =      1,000
                                                F(24, 976)        =      74.99
                                                Prob > F          =     0.0000
                                                R-squared         =     0.6468
                                                Root MSE          =     1.0865

------------------------------------------------------------------------------
             |               Robust
           y |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    __00000E |  -1.008858   .3854207    -2.62   0.009    -1.765207   -.2525096
    __00000F |  -2.105157   .5074419    -4.15   0.000     -3.10096   -1.109355
    __00000G |  -.9509692    .474771    -2.00   0.045    -1.882659   -.0192798
    __00000H |  -1.405101   .3530921    -3.98   0.000    -2.098008   -.7121938
    __00000I |  -.9338806   .3654964    -2.56   0.011     -1.65113   -.2166313
    __00000J |  -1.031513   .3802705    -2.71   0.007    -1.777755    -.285271
    __00000K |  -.4238988    .320235    -1.32   0.186    -1.052327    .2045295
    __00000L |  -.2981258   .3602854    -0.83   0.408    -1.005149    .4088974
    __00000M |  -.9668244   .3392473    -2.85   0.004    -1.632563   -.3010863
    __00000N |   .6633921   .3638191     1.82   0.069    -.0505657     1.37735
    __00000O |  -.0074828   .3535067    -0.02   0.983    -.7012035    .6862378
    __00000P |    1.68339   .3350802     5.02   0.000     1.025829    2.340951
    __00000Q |   1.276997   .3536219     3.61   0.000     .5830506    1.970944
    __00000R |   .6426886   .3229999     1.99   0.047     .0088344    1.276543
    __00000S |   1.499711   .3232968     4.64   0.000      .865274    2.134148
    __00000T |   1.389517   .3362175     4.13   0.000     .7297252     2.04931
    __00000U |   1.215756   .2974353     4.09   0.000     .6320693    1.799442
    __00000V |    1.81848   .3334952     5.45   0.000      1.16403     2.47293
    __00000W |   1.856632   .3675281     5.05   0.000     1.135396    2.577868
    __00000X |   1.874899   .3820814     4.91   0.000     1.125103    2.624694
    __00000Y |   2.714782   .4963503     5.47   0.000     1.740745    3.688818
    __00000Z |    1.74463   .5984834     2.92   0.004     .5701675    2.919092
    __000010 |   3.280448   .5932234     5.53   0.000     2.116308    4.444589
           w |   .9896657   .0581921    17.01   0.000     .8754697    1.103862
------------------------------------------------------------------------------

Hypothesis tests based on binscatter estimates
Estimation method: reg
Bin selection method: IMSE-optimal plug-in choice
Placement: Quantile-spaced
Derivative: 0

----------------------------------------------
# of observations             |    1000
# of distinct values          |    1000
# of clusters                 |       .
------------------------------+---------------
Bin selection:                | 
         Degree of polynomial |       0
  # of smoothness constraints |       0
                    # of bins |      20
----------------------------------------------

Shape Restriction Tests:
Degree: 3     # of smoothness constraints: 3

--------------------------------------------------
H0: sup mu <=      | sup T             p value
-------------------+------------------------------
         4         |  -1.683             1.000
--------------------------------------------------

--------------------------------------------------
H0: inf mu >=      | inf T             p value
-------------------+------------------------------
         -2        |   1.461             1.000
         0         |  -9.694             0.000
--------------------------------------------------

Model specification Tests:
Degree: 3     # of smoothness constraints: 3

--------------------------------------------------
H0: mu =           | sup |T|           p value
-------------------+------------------------------
poly. degree  1    |   6.108             0.000
--------------------------------------------------
