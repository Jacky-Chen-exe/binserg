{com}. binstest y x w, deriv(1) nbins(20) testshaper(0)
{res}
{txt}Hypothesis tests based on binscatter estimates
Estimation method: reg
Bin selection method: IMSE-optimal plug-in choice
Placement: Quantile-spaced
Derivative: 1

{hline 30}{c TT}{hline 15}
{lalign 1:# of observations}{col 30} {c |} {col 32}{res}   1000
{txt}{lalign 1:# of distinct values}{col 30} {c |} {col 32}{res}   1000
{txt}{lalign 1:# of clusters}{col 30} {c |} {col 32}{res}      .
{txt}{hline 30}{c +}{hline 15}
{lalign 1:Bin selection:}{col 30} {c |} 
{ralign 29:Degree of polynomial}{col 30} {c |} {col 32}{res}      0
{txt}{ralign 29:# of smoothness constraints}{col 30} {c |} {col 32}{res}      0
{txt}{ralign 29:# of bins}{col 30} {c |} {col 32}{res}     20
{txt}{hline 30}{c BT}{hline 15}

Shape Restriction Tests:
Degree: 3{col 15}# of smoothness constraints: 3

{hline 19}{c TT}{hline 30}
H0: inf mu >={col 20}{c |}{col 22}inf T{col 40}p value
{hline 19}{c +}{hline 30}
{res}{rcenter 19:0}{col 20}{txt}{c |}{col 22}{res} -2.680{col 40}  0.194
{txt}{hline 19}{c BT}{hline 30}
