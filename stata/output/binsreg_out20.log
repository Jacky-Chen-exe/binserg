. binstest y x w, nbins(20) testshaper(-2 0) testshapel(4) testmodelpoly(1) ///
>                    nsims(1000) simsgrid(30)

Hypothesis tests based on binscatter estimates
Estimation method: reg
Bin selection method: IMSE-optimal plug-in choice
Placement: Quantile-spaced
Derivative: 0

----------------------------------------------
# of observations             |    1000
# of distinct values          |    1000
# of clusters                 |       .
------------------------------+---------------
Bin selection:                | 
         Degree of polynomial |       2
  # of smoothness constraints |       2
                    # of bins |      20
----------------------------------------------

Shape Restriction Tests:
Degree: 3     # of smoothness constraints: 3

--------------------------------------------------
H0: sup mu <=      | sup T             p value
-------------------+------------------------------
         4         |  -1.660             1.000
--------------------------------------------------

--------------------------------------------------
H0: inf mu >=      | inf T             p value
-------------------+------------------------------
         -2        |   1.514             1.000
         0         |  -9.622             0.000
--------------------------------------------------

Model specification Tests:
Degree: 3     # of smoothness constraints: 3

--------------------------------------------------
H0: mu =           | sup |T|           p value
-------------------+------------------------------
poly. degree  1    |   6.108             0.000
--------------------------------------------------
